---
layout:     post
title:      Lucene
subtitle:   概述
date:       2021-07-16
author:     QuanLi
header-img: img/post-bg-kuaidi.jpg
catalog: true
tags:
    - 搜索引擎
---

# Lucene

​	Lucene是apache软件基金会发布的一个开放源代码的**全文检索引擎工具包**，Lucene的目的是为软件开发人员提供一个简单易用的工具包，**以方便在目标系统中实现全文检索的功能，或者是以此为基础建立起完整的全文检索引擎**。

​	Lucene是根据**关健字**来搜索的文本搜索工具，只能**在某个网站内部搜索文本内容**，不能跨网站搜索

### 全文检索的定义

​	全文检索首先将要查询的目标文档中的词提取出来，组成索引，通过查询索引达到搜索目标文档的目的。这种先建立索引，再对索引进行搜索的过程就叫全文检索。

### 为什么我们要用Lucene？

​	在介绍Lucene的时候，我们已经说了：Lucene又不是搜索引擎，仅仅是在**网站内部**进行**文本**的搜索。那我们为什么要学他呢？？？

​	既然SQL能做的功能，我们还要学Lucene，为什么呢？？？

​	我们来看看我们用SQL来搜索的话，有什么缺点：

- SQL只能针对数据库表搜索，**不能直接针对硬盘上的文本搜索**
- **SQL没有相关度排名**
- **SQL搜索结果没有关健字高亮显示**
- **SQL需要数据库的支持**，数据库本身需要内存开销较大，例如：Oracle
- **SQL搜索有时较慢**，尤其是数据库不在本地时，超慢，例如：Oracle

### Lucene实现全文检索的流程

![image-20210716151922915](https://i.loli.net/2021/07/16/NIyVYdAgKMeHSfG.png)

全文检索的流程分为两大部分：索引流程、搜索流程：

- 索引流程：即采集数据-->构建文档对象-->分析文档（分词）-->创建索引。
- 搜索流程：即用户通过搜索界面-->创建查询-->执行搜索，搜索器从索引库搜索-->渲染搜索结果。

Lucene本身不能进行视图渲染。

### 倒排索引

​	传统方法是先找到文件，如何在文件中找内容，**在文件内容中匹配搜索关键字，这种方法是顺序扫描方法**，**数据量大就搜索慢**。
 倒排索引结构是根据内容（词语）找文档，倒排索引结构也叫反向索引结构，包括索引和文档两部分，索引即词汇表，它是**在索引中匹配搜索关键字**，由于索引内容量有限并且采用固定优化算法搜索速度很快，**找到了索引中的词汇，词汇与文档关联**，从而最终找到了文档。

