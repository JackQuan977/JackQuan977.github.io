---
layout:     post
title:      布隆过滤器
subtitle:   概述
date:       2021-02-21
author:     QuanLi
header-img: img/post-bg-coffee.jpg
catalog: true
tags:
    - 数据结构
---

# 布隆过滤器

### 什么是布隆过滤器

​	布隆过滤器是一种检索元素是不是在给定大集合中的数据结构，非常高效且性能很好，但缺点是有一定错误识别率和放在布隆过滤器中的数据不容易删除。并且理论上，集合中元素越多，出错的可能性越大。

​	**布隆过滤器用位数组和一系列哈希函数组成**，位数组占空间很小，能存很多数据。

### 实现原理

#### 当一个元素加入布隆过滤器时

- 使用使用布隆过滤器中的哈希函数对元素值进行计算，得到哈希值（**有几个哈希函数得到几个哈希值**）
- 根据得到哈希值，在位数组中把对应下标的值置为一

#### 当判断一个元素是否存在于布隆过滤器

- 对给定元素再次进行哈希运算
- 判断位数组中是否每个对应元素都为1，都为1表明这个值存在于布隆过滤器中，只要有一个不为1那就是不存在

![image-20210221180223311](C:\Users\ql\AppData\Roaming\Typora\typora-user-images\image-20210221180223311.png)

综上：

- **不同的字符串可能哈希出来的位置相同，这种情况我们可以适当增加位数组大小或者调整我们的哈希函数。**

- **布隆过滤器说某个元素存在，小概率会误判。布隆过滤器说某个元素不在，那么这个元素一定不在。**

### 布隆过滤器使用场景

- 判定给定数据存不存在 ：判断一个数字是否存在于包含大量数字的数字集中、防止缓存穿透（判断请求数据是否有效，避免绕过缓存直接去请求数据库）、垃圾邮箱过滤、黑白名单等
- 去重：如爬给定网址避免爬已经爬过的

